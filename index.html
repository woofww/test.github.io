<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="favicon.svg" type="image/svg+xml">
    <title>智慧征迁系统 - 首页</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            DEFAULT: '#008679', // 主色调-深青绿色
                            light: '#00A896',  // 辅助色-亮青绿色
                            dark: '#005F56',   // 辅助色-深墨绿色
                        },
                        neutral: {
                            light: '#F5F7F7',    // 浅色背景
                            DEFAULT: '#E0E5E4', // 中性色
                            dark: '#4A5568',    // 文字颜色
                        },
                        accent: {
                            DEFAULT: '#F39C12', // 强调色-橙色
                            secondary: '#3498DB' // 次要强调色-蓝色
                        }
                    },
                }
            }
        }
    </script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <!-- 引入地图和图表库 -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.css" rel="stylesheet">
</head>
<body class="bg-neutral-light min-h-screen">
    <div class="flex flex-col min-h-screen">
        <!-- 顶部导航栏 -->
        <header class="bg-primary-dark text-white shadow-md">
            <div class="container mx-auto px-4 py-3 flex justify-between items-center">
                <div class="flex items-center">
                    <i class="fas fa-city text-2xl mr-3"></i>
                    <h1 class="text-xl font-bold">智慧征迁系统</h1>
                </div>
                <div>
                    <a href="login.html" class="bg-primary hover:bg-primary-light text-white py-2 px-4 rounded transition duration-300 ease-in-out">
                        <i class="fas fa-sign-in-alt mr-2"></i>登录系统
                    </a>
                </div>
            </div>
        </header>

        <!-- 主内容区 -->
        <main class="flex-grow">
            <!-- 英雄区域 -->
            <section class="bg-gradient-to-r from-primary to-primary-dark text-white py-16">
                <div class="container mx-auto px-4 flex flex-col md:flex-row items-center">
                    <div class="md:w-1/2 mb-8 md:mb-0">
                        <h2 class="text-3xl md:text-4xl font-bold mb-4">高效、公平、透明的征迁补偿管理平台</h2>
                        <p class="text-lg mb-6">为政府部门提供全流程征迁补偿管理解决方案，实现项目全周期数字化管理</p>
                        <div class="flex space-x-4">
                            <a href="#features" class="bg-white text-primary hover:bg-neutral-light py-2 px-6 rounded-full font-medium transition duration-300 ease-in-out">
                                了解更多
                            </a>
                            <a href="login.html" class="bg-accent hover:bg-yellow-500 text-white py-2 px-6 rounded-full font-medium transition duration-300 ease-in-out">
                                立即登录
                            </a>
                        </div>
                    </div>
                    <div class="md:w-1/2">
                        <img src="images/compensation_system.svg" alt="智慧征迁系统示意图" class="rounded-lg shadow-xl">
                    </div>
                </div>
            </section>

            <!-- 系统特点 -->
            <section id="features" class="py-16 bg-white">
                <div class="container mx-auto px-4">
                    <h2 class="text-3xl font-bold text-center mb-12 text-neutral-dark">系统特点</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                        <div class="bg-neutral-light rounded-lg p-6 shadow-sm hover:shadow-md transition duration-300 ease-in-out">
                            <div class="text-primary text-4xl mb-4">
                                <i class="fas fa-balance-scale"></i>
                            </div>
                            <h3 class="text-xl font-semibold mb-3 text-neutral-dark">公平透明</h3>
                            <p class="text-neutral-dark">标准化的补偿流程和评估体系，确保每个项目的公平性和透明度，减少争议。</p>
                        </div>
                        <div class="bg-neutral-light rounded-lg p-6 shadow-sm hover:shadow-md transition duration-300 ease-in-out">
                            <div class="text-primary text-4xl mb-4">
                                <i class="fas fa-tachometer-alt"></i>
                            </div>
                            <h3 class="text-xl font-semibold mb-3 text-neutral-dark">高效处理</h3>
                            <p class="text-neutral-dark">数字化工作流程，自动化计算和审批，大幅提高工作效率，缩短项目周期。</p>
                        </div>
                        <div class="bg-neutral-light rounded-lg p-6 shadow-sm hover:shadow-md transition duration-300 ease-in-out">
                            <div class="text-primary text-4xl mb-4">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <h3 class="text-xl font-semibold mb-3 text-neutral-dark">数据驱动</h3>
                            <p class="text-neutral-dark">全面的数据分析和可视化报表，为决策提供有力支持，实现精细化管理。</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 系统介绍区域 -->
            <section id="about" class="py-16 bg-neutral-light">
                <div class="container mx-auto px-4 flex flex-col md:flex-row items-center">
                    <div class="md:w-1/2 mb-8 md:mb-0 pr-0 md:pr-8">
                        <h2 class="text-3xl font-bold mb-4 text-neutral-dark">系统介绍</h2>
                        <p class="text-neutral-dark mb-6">智慧征迁系统为政府部门提供全流程征迁补偿管理解决方案，实现项目全周期数字化管理。通过标准化的补偿流程和评估体系，确保每个项目的公平性和透明度，减少争议。</p>
                        <p class="text-neutral-dark mb-6">系统采用数字化工作流程，自动化计算和审批，大幅提高工作效率，缩短项目周期。同时提供全面的数据分析和可视化报表，为决策提供有力支持，实现精细化管理。</p>
                        <a href="dashboard.html" class="inline-block bg-primary hover:bg-primary-light text-white py-2 px-6 rounded-full font-medium transition duration-300 ease-in-out">
                            <i class="fas fa-info-circle mr-2"></i>了解更多
                        </a>
                    </div>
                    <div class="md:w-1/2">
                        <img src="images/compensation_system_intro.svg" alt="智慧征迁系统介绍" class="rounded-lg shadow-xl">
                    </div>
                </div>
            </section>

            <!-- 地图展示 -->
            <section class="py-16 bg-white">
                <div class="container mx-auto px-4">
                    <h2 class="text-3xl font-bold text-center mb-12 text-neutral-dark">项目分布</h2>
                    <div class="bg-neutral-light p-4 rounded-lg shadow-sm">
                        <div id="map" class="h-96 rounded-lg"></div>
                    </div>
                </div>
            </section>

            <!-- 数据统计 -->
            <section class="py-16 bg-neutral-light">
                <div class="container mx-auto px-4">
                    <h2 class="text-3xl font-bold text-center mb-12 text-neutral-dark">数据统计</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div class="bg-white p-6 rounded-lg shadow-sm">
                            <h3 class="text-xl font-semibold mb-4 text-neutral-dark">项目完成情况</h3>
                            <div class="w-full" style="height: 300px; overflow: hidden;">
                                <canvas id="projectChart" style="max-height: 100%;"></canvas>
                            </div>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-sm">
                            <h3 class="text-xl font-semibold mb-4 text-neutral-dark">补偿金额分布</h3>
                            <div id="compensationChart" style="height: 300px; width: 100%; overflow: hidden;"></div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- 页脚 -->
        <footer class="bg-primary-dark text-white py-8">
            <div class="container mx-auto px-4">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                    <div>
                        <h3 class="text-lg font-semibold mb-4">关于我们</h3>
                        <p class="text-sm">智慧征迁系统是一款专为政府部门设计的征地拆迁补偿管理软件，提供全流程数字化解决方案。</p>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold mb-4">联系方式</h3>
                        <ul class="text-sm">
                            <li class="mb-2"><i class="fas fa-phone mr-2"></i> 400-123-4567</li>
                            <li class="mb-2"><i class="fas fa-envelope mr-2"></i> contact@example.com</li>
                            <li><i class="fas fa-map-marker-alt mr-2"></i> 北京市朝阳区</li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold mb-4">快速链接</h3>
                        <ul class="text-sm">
                            <li class="mb-2"><a href="#" class="hover:text-neutral-light">使用指南</a></li>
                            <li class="mb-2"><a href="#" class="hover:text-neutral-light">常见问题</a></li>
                            <li><a href="#" class="hover:text-neutral-light">技术支持</a></li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold mb-4">关注我们</h3>
                        <div class="flex space-x-4">
                            <a href="#" class="text-2xl hover:text-neutral-light"><i class="fab fa-weixin"></i></a>
                            <a href="#" class="text-2xl hover:text-neutral-light"><i class="fab fa-weibo"></i></a>
                            <a href="#" class="text-2xl hover:text-neutral-light"><i class="fab fa-qq"></i></a>
                        </div>
                    </div>
                </div>
                <div class="border-t border-primary mt-8 pt-6 text-center text-sm">
                    <p>© 2023 智慧征迁系统 版权所有 | 京ICP备12345678号</p>
                </div>
            </div>
        </footer>
    </div>

    <!-- 脚本 -->
    <script>
        // 初始化地图
        document.addEventListener('DOMContentLoaded', function() {
            // 创建地图
            const map = L.map('map').setView([39.9042, 116.4074], 5); // 中国中心位置

            // 添加地图图层 - 使用高德地图
            L.tileLayer('https://webrd0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}', {
                subdomains: "1234",
                attribution: '&copy; <a href="https://www.amap.com">高德地图</a>'
            }).addTo(map);

            // 添加示例项目标记
            const projects = [
                { name: "北京市朝阳区城市更新项目", lat: 39.9042, lng: 116.4074 },
                { name: "上海市浦东新区征地项目", lat: 31.2304, lng: 121.4737 },
                { name: "广州市天河区旧城改造", lat: 23.1291, lng: 113.2644 },
                { name: "深圳市南山区城中村改造", lat: 22.5431, lng: 114.0579 },
                { name: "成都市锦江区棚户区改造", lat: 30.6570, lng: 104.0665 }
            ];

            // 添加标记
            projects.forEach(project => {
                L.marker([project.lat, project.lng])
                    .addTo(map)
                    .bindPopup(`<b>${project.name}</b><br>点击查看详情`)
            });

            // 项目完成情况图表
            const projectCtx = document.getElementById('projectChart').getContext('2d');
            new Chart(projectCtx, {
                type: 'bar',
                data: {
                    labels: ['已完成', '进行中', '规划中', '暂停'],
                    datasets: [{
                        label: '项目数量',
                        data: [42, 28, 15, 5],
                        backgroundColor: [
                            '#00A896',
                            '#F39C12',
                            '#3498DB',
                            '#E0E5E4'
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });

            // 补偿金额分布图表
            const compensationContainer = document.getElementById('compensationChart');
            // 使用固定高度而非百分比
            const compensationChart = echarts.init(compensationContainer);
            const compensationOption = {
                tooltip: {
                    trigger: 'item',
                    formatter: '{a} <br/>{b}: {c} ({d}%)'
                },
                legend: {
                    orient: 'vertical',
                    right: 10,
                    top: 'center',
                    data: ['房屋补偿', '土地补偿', '附属物补偿', '停产停业补偿', '其他补偿']
                },
                series: [
                    {
                        name: '补偿金额',
                        type: 'pie',
                        radius: ['50%', '70%'],
                        avoidLabelOverlap: false,
                        itemStyle: {
                            borderRadius: 10,
                            borderColor: '#fff',
                            borderWidth: 2
                        },
                        label: {
                            show: false,
                            position: 'center'
                        },
                        emphasis: {
                            label: {
                                show: true,
                                fontSize: '18',
                                fontWeight: 'bold'
                            }
                        },
                        labelLine: {
                            show: false
                        },
                        data: [
                            { value: 1548, name: '房屋补偿' },
                            { value: 735, name: '土地补偿' },
                            { value: 580, name: '附属物补偿' },
                            { value: 484, name: '停产停业补偿' },
                            { value: 300, name: '其他补偿' }
                        ]
                    }
                ]
            };
            compensationChart.setOption(compensationOption);

            // 响应式调整
            window.addEventListener('resize', function() {
                // 确保ECharts图表正确调整大小
                if (compensationChart) {
                    compensationChart.resize();
                }
                // 当窗口大小改变时，重新渲染项目完成情况图表
                const projectChart = Chart.getChart('projectChart');
                if (projectChart) {
                    projectChart.update();
                }
            });
            
            // 初始触发一次resize事件，确保图表正确渲染
            window.dispatchEvent(new Event('resize'));
        });
    </script>
</body>
</html>